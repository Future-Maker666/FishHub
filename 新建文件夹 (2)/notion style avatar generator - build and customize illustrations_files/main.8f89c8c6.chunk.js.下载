(this["webpackJsonppeeps-generator"]=this["webpackJsonppeeps-generator"]||[]).push([[0],{158:function(e,t,a){e.exports=a(573)},572:function(e,t,a){},573:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(56),c=a.n(r),i=a(4),s=a(2),l=a.n(s),d=a(5),u={rotationDegree:0,flipDirection:1,pressedKey:"",wheelDirection:"",wheelActive:!1,scaleVector:1,svgTransform:{},pickedHair:"HatHip",pickedBody:"PointingUp",pickedFace:"Smile",pickedFacialHair:"None",pickedAccessory:"None",pickedSection:"Accessories",strokeColor:"#000000",backgroundBasicColor:"#FFD55A",backgroundFirstGradientColor:"#81087F",backgroundSecondGradientColor:"#ffd402",firstColor:"#81087F",secondColor:"#ffd402",isFrameTransparent:!1},p=o.a.createContext({state:u,dispatch:function(){}}),f=function(e,t){switch(t.type){case"SET_ROTATION_DEGREE":return e.rotationDegree=t.payload,Object.assign({},e);case"SET_FLIP_DIRECTION":return e.flipDirection=t.payload,Object.assign({},e);case"SET_PRESSED_KEY":return e.pressedKey=t.payload,Object.assign({},e);case"SET_WHEEL_DIRECTION":return e.wheelDirection=t.payload,Object.assign({},e);case"SET_IS_WHEEL_ACTIVE":return e.wheelActive=t.payload,Object.assign({},e);case"SET_SVG_TRANSFORM":return e.svgTransform=t.payload,Object.assign({},e);case"SET_SCALE_VECTOR":return e.scaleVector=t.payload,Object.assign({},e);case"SET_HAIR":return e.pickedHair=t.payload,Object.assign({},e);case"SET_BODY":return e.pickedBody=t.payload,Object.assign({},e);case"SET_FACE":return e.pickedFace=t.payload,Object.assign({},e);case"SET_FACIAL_HAIR":return e.pickedFacialHair=t.payload,Object.assign({},e);case"SET_ACCESSORY":return e.pickedAccessory=t.payload,Object.assign({},e);case"SET_PIECE_SECTION":return e.pickedSection=t.payload,Object.assign({},e);case"SET_STROKE_COLOR":var a=t.payload;return"object"!==typeof t.payload||t.payload.degree||(a.degree=e.strokeColor.degree,a.secondColor||(a.secondColor=e.strokeColor.secondColor),a.firstColor||(a.firstColor=e.strokeColor.firstColor)),e.strokeColor=a,Object.assign({},e);case"SET_BACKGROUND_BASIC_COLOR":var n=t.payload;return"object"!==typeof t.payload||t.payload.degree||(n.degree=e.backgroundBasicColor.degree,n.secondColor||(n.secondColor=e.backgroundBasicColor.secondColor),n.firstColor||(n.firstColor=e.backgroundBasicColor.firstColor)),e.backgroundBasicColor=n,Object.assign({},e);case"SET_FOREGROUND_FIRST_COLOR":return e.firstColor=t.payload,Object.assign({},e);case"SET_FOREGROUND_SECOND_COLOR":return e.secondColor=t.payload,Object.assign({},e);case"SET_BACKGROUND_FIRST_GRADIENT_COLOR":return e.backgroundFirstGradientColor=t.payload,Object.assign({},e);case"SET_BACKGROUND_SECOND_GRADIENT_COLOR":return e.backgroundSecondGradientColor=t.payload,Object.assign({},e);case"SET_FRAME_TYPE":return e.isFrameTransparent=t.payload,Object.assign({},e)}},m=function(e){var t=e.children,a=Object(n.useReducer)(f,u),r=Object(d.a)(a,2),c=r[0],i=r[1];return o.a.createElement(p.Provider,{value:{state:c,dispatch:i}},t)},E=function(){return Object(n.useContext)(p)},g=a(15),b=function(e,t){switch(t.type){case"init":case"setKnobPosition":return Object(i.a)({},e,{},t.payload);case"onMouseDown":case"onMouseUp":case"setInitialKnobPosition":return Object(i.a)({},e,{},t.payload);default:throw new Error}},v=null;"undefined"!==typeof window&&(v=window);var y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,o=Object(n.useRef)(null);Object(n.useEffect)((function(){o.current=t}),[t]),Object(n.useEffect)((function(){if(null!==v&&(a&&a.addEventListener)){var t=function(e){return o.current(e)};return a.addEventListener(e,t,{passive:!1}),function(){a.removeEventListener(e,t)}}}),[e,a])},h=function(e){var t=e.isDragging,a=e.knobPosition,r=e.knobColor,c=e.knobRadius,s=void 0===c?12:c,l=e.knobSize,d=void 0===l?36:l,u=e.onMouseDown,p=e.trackSize,f=e.children,m={knob:{position:"absolute",left:"-".concat(d/2-p/2,"px"),top:"-".concat(d/2-p/2,"px"),cursor:"grab",zIndex:3},dragging:{cursor:"grabbing"},pause:{animationPlayState:"paused"},animation:{transformOrigin:"50% 50%",animationTimingFunction:"ease-out",animation:"pulse 1500ms infinite"}};return o.a.createElement("div",{style:Object(i.a)({transform:"translate(".concat(a.x,"px, ").concat(a.y,"px)")},m.knob,{},t&&m.dragging),onMouseDown:u,onTouchStart:u},o.a.createElement("svg",{width:"".concat(d,"px"),height:"".concat(d,"px"),viewBox:"0 0 ".concat(d," ").concat(d)},o.a.createElement("circle",{style:Object(i.a)({},m.animation,{},t&&m.pause),fill:r,fillOpacity:"0.2",stroke:"none",cx:d/2,cy:d/2,r:d/2}),o.a.createElement("circle",{fill:r,stroke:"none",cx:d/2,cy:d/2,r:s}),f||o.a.createElement(n.Fragment,null,o.a.createElement("rect",{fill:"#FFFFFF",x:"14",y:"14",width:"8",height:"1"}),o.a.createElement("rect",{fill:"#FFFFFF",x:"14",y:"17",width:"8",height:"1"}),o.a.createElement("rect",{fill:"#FFFFFF",x:"14",y:"20",width:"8",height:"1"}))))},O=function(e){var t=e.labelColor,a=e.labelBottom,n=e.labelFontSize,r=e.valueFontSize,c=e.appendToValue,s=e.prependToValue,l=e.verticalOffset,d=e.hideLabelValue,u=e.label,p=e.value,f={labels:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"".concat(t),userSelect:"none",zIndex:1},value:{fontSize:"".concat(r),position:"relative"},bottomMargin:{marginBottom:"calc(".concat(l,")")},appended:{position:"absolute",right:"0",top:"0",transform:"translate(100%, 0)"},prepended:{position:"absolute",left:"0",top:"0",transform:"translate(-100%, 0)"},hide:{display:"none"}};return o.a.createElement("div",{style:Object(i.a)({},f.labels,{},d&&f.hide)},a||o.a.createElement("div",{style:{fontSize:n}},u),o.a.createElement("div",{style:Object(i.a)({},f.value,{},!a&&f.bottomMargin)},o.a.createElement("code",null,o.a.createElement("span",{style:f.prepended},s),p,o.a.createElement("span",{style:f.appended},c))),a&&o.a.createElement("div",{style:{fontSize:n}},u))},C=function(e){var t=e.width,a=e.label,n=e.direction,r=e.strokeDasharray,c=e.strokeDashoffset,i=e.progressColorFrom,s=e.progressColorTo,l=e.trackColor,d=e.progressSize,u=e.trackSize,p=e.svgFullPath,f=e.radiansOffset,m=e.progressLineCap,E={svg:{position:"relative",zIndex:2},path:{transform:"rotate(".concat(f,"rad) ").concat(-1===n?"scale(-1, 1)":"scale(1, 1)"),transformOrigin:"center center"}},g=u/2,b=t/2-g;return o.a.createElement("svg",{width:"".concat(t,"px"),height:"".concat(t,"px"),viewBox:"0 0 ".concat(t," ").concat(t),overflow:"visible",style:E.svg},o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:a,x1:"100%",x2:"0%"},o.a.createElement("stop",{offset:"0%",stopColor:i}),o.a.createElement("stop",{offset:"100%",stopColor:s}))),o.a.createElement("circle",{strokeWidth:u,fill:"none",stroke:l,cx:t/2,cy:t/2,r:b}),o.a.createElement("path",{style:E.path,ref:p,strokeDasharray:r,strokeDashoffset:c,strokeWidth:d,strokeLinecap:"round"!==m?"butt":"round",fill:"none",stroke:"url(#".concat(a,")"),d:"\n                        M ".concat(t/2,", ").concat(t/2,"\n                        m 0, -").concat(t/2-g,"\n                        a ").concat(t/2-g,",").concat(t/2-g," 0 0,1 0,").concat(t-2*g,"\n                        a -").concat(t/2-g,",-").concat(t/2-g," 0 0,1 0,-").concat(t-2*g,"\n                    ")}))},k={pageXOffset:0,pageYOffset:0},S={documentElement:{scrollLeft:0,scrollTop:0}};"undefined"!==typeof window&&(k=window,S=document);var F="ontouchstart"in k,T={DOWN:F?"touchstart":"mousedown",UP:F?"touchend":"mouseup",MOVE:F?"touchmove":"mousemove"},j={top:Math.PI/2,right:0,bottom:-Math.PI/2,left:-Math.PI},_=function(e){return e<0?-1:1},w=function(e){return e*Math.PI/180},R=function(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a},x=function(e){var t=e.current.getBoundingClientRect(),a=k.pageXOffset||S.documentElement.scrollLeft,n=k.pageYOffset||S.documentElement.scrollTop;return{top:t.top+n,left:t.left+a}},N={circularSlider:{position:"relative",display:"inline-block",opacity:0,transition:"opacity 1s ease-in"},mounted:{opacity:1}},B=function(e){var t=e.label,a=void 0===t?"ANGLE":t,r=e.width,c=void 0===r?280:r,s=e.direction,l=void 0===s?1:s,u=e.min,p=void 0===u?0:u,f=e.max,m=void 0===f?360:f,E=e.knobColor,v=void 0===E?"#4e63ea":E,k=e.knobPosition,S=void 0===k?"top":k,F=e.labelColor,B=void 0===F?"#272b77":F,A=e.labelBottom,D=void 0!==A&&A,I=e.labelFontSize,L=void 0===I?"1rem":I,M=e.valueFontSize,P=void 0===M?"3rem":M,W=e.appendToValue,H=void 0===W?"":W,K=e.prependToValue,G=void 0===K?"":K,U=e.verticalOffset,V=void 0===U?"1.5rem":U,z=e.hideLabelValue,Y=void 0!==z&&z,q=e.progressColorFrom,X=void 0===q?"#80C3F3":q,J=e.progressColorTo,$=void 0===J?"#4990E2":J,Q=e.progressSize,Z=void 0===Q?8:Q,ee=e.trackColor,te=void 0===ee?"#DDDEFB":ee,ae=e.trackSize,ne=void 0===ae?8:ae,oe=e.data,re=void 0===oe?[]:oe,ce=e.dataIndex,ie=void 0===ce?0:ce,se=e.progressLineCap,le=void 0===se?"round":se,de=e.children,ue=e.onChange,pe=void 0===ue?function(e){}:ue,fe=e.style,me=void 0===fe?{}:fe,Ee={mounted:!1,isDragging:!1,width:c,radius:c/2,knobPosition:S,label:0,data:re,radians:0,offset:0,knob:{x:0,y:0},dashFullArray:0,dashFullOffset:0},ge=Object(n.useReducer)(b,Ee),be=Object(d.a)(ge,2),ve=be[0],ye=be[1],he=Object(n.useRef)(null),Oe=Object(n.useRef)(null),Ce=Object(n.useCallback)((function(e){var t=ve.radius-ne/2,a=e+j[S],n=(a>0?a:2*Math.PI+a)*(360/(2*Math.PI)),o=n/360*ve.dashFullArray;n=-1===_(l)?360-n:n;var r=(ve.data.length-1)/360,c=Math.round(n*r);ve.data[c]!==ve.label&&pe(ve.data[c]),ye({type:"setKnobPosition",payload:{dashFullOffset:-1===_(l)?o:ve.dashFullArray-o,label:ve.data[c],knob:{x:t*Math.cos(e)+t,y:t*Math.sin(e)+t}}})}),[ve.dashFullArray,ve.radius,ve.data,ve.label,S,l,pe]),ke=Object(n.useCallback)((function(e){if(ve.isDragging){var t;e.preventDefault(),"touchmove"===e.type&&(t=e.changedTouches[0]);var a=("touchmove"===e.type?t.pageX:e.pageX)-(x(he).left+ve.radius),n=("touchmove"===e.type?t.pageY:e.pageY)-(x(he).top+ve.radius),o=Math.atan2(n,a);Ce(o)}}),[ve.isDragging,ve.radius,Ce]);return Object(n.useEffect)((function(){ye({type:"init",payload:{mounted:!0,data:ve.data.length?Object(g.a)(ve.data):Object(g.a)(R(p,m)),dashFullArray:Oe.current.getTotalLength?Oe.current.getTotalLength():0}})}),[m,p]),Object(n.useEffect)((function(){var e=ve.data.length,t=ie>e-1?e-1:ie;if(e){var a=360/e,n=w(a)/2;if(ye({type:"setInitialKnobPosition",payload:{radians:Math.PI/2-j[ve.knobPosition],offset:n}}),t){var o=_(l)*t*a,r=w(o)-j[ve.knobPosition];return Ce(r+n*_(l))}Ce(-j[ve.knobPosition]*_(l)+n*_(l))}}),[ve.dashFullArray,ve.knobPosition,ve.data.length,ie,l]),y(T.MOVE,ke),y(T.UP,(function(){ye({type:"onMouseUp",payload:{isDragging:!1}})})),o.a.createElement("div",{style:Object(i.a)({},N.circularSlider,{},me,{},ve.mounted&&N.mounted),ref:he},o.a.createElement(C,{width:c,label:a.split(" ").join(""),direction:l,strokeDasharray:ve.dashFullArray,strokeDashoffset:ve.dashFullOffset,svgFullPath:Oe,progressSize:Z,progressColorFrom:X,progressColorTo:$,progressLineCap:le,trackColor:te,trackSize:ne,radiansOffset:ve.radians}),o.a.createElement(h,{isDragging:ve.isDragging,knobPosition:{x:ve.knob.x,y:ve.knob.y},knobColor:v,trackSize:ne,onMouseDown:function(){ye({type:"onMouseDown",payload:{isDragging:!0}})}},de),o.a.createElement(O,{label:a,labelColor:B,labelBottom:D,labelFontSize:L,verticalOffset:V,valueFontSize:P,appendToValue:H,prependToValue:G,hideLabelValue:Y,value:"".concat(ve.label)}))},A=a(155),D=a.n(A),I={railStyle:{position:"absolute",width:"100%",backgroundColor:"#f1f3f4",height:"8px",borderRadius:"6px"},trackStyle:{position:"absolute",left:0,height:"8px",borderRadius:"6px",backgroundColor:"#FCCE5A"},dotStyle:{position:"absolute",bottom:"-7px",marginLeft:"-8px",width:"14px",height:"14px",border:"2px solid #e9e9e9",backgroundColor:"#fff",cursor:"pointer",borderRadius:"50%",verticalAlign:"middle"},activeDotStyle:{position:"absolute",width:"18px",height:"18px",cursor:"pointer",marginTop:"-5px",borderRadius:"50%",border:"solid 2px #000",backgroundColor:"#000",touchAction:"pan-x",bottom:"-8px",marginLeft:"-9px",zIndex:2}},L=function(){var e=E(),t=e.state,a=e.dispatch,r=t.flipDirection,c=t.pressedKey,s=t.rotationDegree,l=t.scaleVector,u=t.svgTransform,p=t.wheelActive,f=t.wheelDirection,m=Object(n.useState)(!0),g=Object(d.a)(m,2),b=g[0],v=g[1];Object(n.useEffect)((function(){var e,t,n;null===(e=document.querySelector(".rotateWrapper > div > div > div > svg > circle"))||void 0===e||e.remove(),document.querySelectorAll(".rotateWrapper > div > div > div > svg > rect").forEach((function(e){return null===e||void 0===e?void 0:e.remove()})),(null===(t=window)||void 0===t?void 0:t.innerWidth)>1440&&a({type:"SET_SCALE_VECTOR",payload:1.25}),(null===(n=window)||void 0===n?void 0:n.innerWidth)>1900&&a({type:"SET_SCALE_VECTOR",payload:1.5})}),[]);var y=function(e){var t=s;t="up"===f||(null===e||void 0===e?void 0:e.deltaY)<0?t+10>360?10:t+10:t-10<0?350:t-10,a({type:"SET_ROTATION_DEGREE",payload:t})},h=function(e){var t=l;t="up"===f||(null===e||void 0===e?void 0:e.deltaY)<0?t<=.5?.5:t-.25:t>=1.5?1.5:t+.25,a({type:"SET_SCALE_VECTOR",payload:t})};Object(n.useEffect)((function(){a({type:"SET_SVG_TRANSFORM",payload:Object(i.a)({},u,{rotate:"".concat(s)})})}),[s]),Object(n.useEffect)((function(){a({type:"SET_SVG_TRANSFORM",payload:Object(i.a)({},u,{flip:"scale(".concat(r,", 1)")})})}),[r]),Object(n.useEffect)((function(){if(c&&f&&p)switch(c){case"r":y();break;case"f":"up"===f?1===r&&a({type:"SET_FLIP_DIRECTION",payload:-1}):-1===r&&a({type:"SET_FLIP_DIRECTION",payload:1});break;case"s":h()}}),[c,f,p]);var O=function(e){a({type:"SET_SCALE_VECTOR",payload:e})},C=function(e){var t=e.nativeEvent;y(t)},k=function(e){a({type:"SET_ROTATION_DEGREE",payload:e})},S=function(){a({type:"SET_FLIP_DIRECTION",payload:-r})},F=function(){v(!b)},T=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"scaleWrapper",onWheel:function(e){var t=e.nativeEvent;h(t)}},o.a.createElement("span",{className:"scaleTitle"},"Scale"),o.a.createElement(D.a,{value:l,min:.5,max:1.5,defaultValue:1,onChange:O,marks:{.5:.5,.75:.75,1:1,1.25:1.25,1.5:1.5},step:null,railStyle:I.railStyle,trackStyle:I.trackStyle,dotStyle:I.dotStyle,activeDotStyle:I.activeDotStyle}),o.a.createElement("div",{className:"scaleShortcutWrapper"},o.a.createElement("span",null,"or"),o.a.createElement("span",{className:"boldText"},"press s"),o.a.createElement("span",null,"+"),o.a.createElement("span",{className:"boldText"},"scroll on illustration")))}),[l]),j=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"rotateWrapper",onWheel:C},o.a.createElement("span",{className:"rotateTitle"},"Rotate"),o.a.createElement("div",{className:"rotateRow"},o.a.createElement(B,{width:100,min:0,max:360,direction:-1,knobPosition:"right",knobColor:"#000000",trackColor:"#f1f3f4",progressColorFrom:"#FDE7AB",progressColorTo:"#FCCE5A",appendToValue:"\xb0",valueFontSize:"15px",onChange:k,label:"Degree",dataIndex:s}),o.a.createElement("span",null,"or"),o.a.createElement("div",{className:"rotateShortcutWrapper"},o.a.createElement("span",{className:"boldText"},"press r"),o.a.createElement("span",null,"+"),o.a.createElement("span",{className:"boldText"},"scroll on"),o.a.createElement("span",{className:"boldText"},"illustration"))))}),[s]),_=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"flipWrapper"},o.a.createElement("div",{className:"flipButton",onClick:S},o.a.createElement("span",{style:{textAlign:"center"}},"Flip")),o.a.createElement("span",null,"or"),o.a.createElement("div",{className:"rotateShortcutWrapper"},o.a.createElement("span",{className:"boldText"},"press f"),o.a.createElement("span",null,"+"),o.a.createElement("span",{className:"boldText"},"scroll on illustration")))}),[r]);return Object(n.useMemo)((function(){return o.a.createElement("div",{className:"leftMenu ".concat(b?"":"drawerClosed")},o.a.createElement("div",{className:"leftMenuWrapper"},o.a.createElement("div",{className:"leftMenuContentWrapper"},T,j,_),o.a.createElement("div",{className:"leftMenuDrawerButton",onClick:F},b?"Close":"Open")))}),[b,l,s,r])},M=a(157),P=a(156),W=function(e,t){P.saveAs(e,t)},H=a(58),K=a(3),G=a(10),U=function(e){var t=e.color,a=e.target,r=e.type,c=E().dispatch;Object(n.useEffect)((function(){document.querySelectorAll(".flexbox-fix")[1].remove()}),[]);var i=Object(n.useMemo)((function(){var e={firstColor:"",secondColor:""};return"Background"===r?(e.firstColor="SET_BACKGROUND_FIRST_GRADIENT_COLOR",e.secondColor="SET_BACKGROUND_SECOND_GRADIENT_COLOR"):(e.firstColor="SET_FOREGROUND_FIRST_COLOR",e.secondColor="SET_FOREGROUND_SECOND_COLOR"),e}),[t]);return o.a.createElement(H.ChromePicker,{disableAlpha:!0,color:t,onChange:function(e){var t="first"===a?i.firstColor:i.secondColor;c({type:t,payload:e.hex})}})},V=function(e){var t=e.type,a=E(),r=a.state,c=a.dispatch,i=r.strokeColor,s=r.firstColor,l=r.secondColor,u=r.backgroundBasicColor,p=r.backgroundFirstGradientColor,f=r.backgroundSecondGradientColor,m=(r.isFrameTransparent,Object(n.useMemo)((function(){return"Background"===t?p:s}),[s,p])),g=Object(n.useMemo)((function(){return"Background"===t?f:l}),[l,f]),b=Object(n.useState)(("Background"===t?u.degree:i.degree)||0),v=Object(d.a)(b,2),y=v[0],h=v[1],O=Object(n.useState)(!1),C=Object(d.a)(O,2),k=C[0],S=C[1],F=Object(n.useState)(!1),T=Object(d.a)(F,2),j=T[0],_=T[1];Object(n.useEffect)((function(){c({type:"Background"===t?"SET_BACKGROUND_BASIC_COLOR":"SET_STROKE_COLOR",payload:{degree:y,firstColor:m,secondColor:g}})}),[m,g,y,c]);var w=function(e){return function(a){Object(G.isValidHex)(a)&&c("Background"===t?{type:"first"===e?"SET_BACKGROUND_FIRST_GRADIENT_COLOR":"SET_BACKGROUND_SECOND_GRADIENT_COLOR",payload:a}:{type:"first"===e?"SET_FOREGROUND_FIRST_COLOR":"SET_FOREGROUND_SECOND_COLOR",payload:a})}},R=Object(n.useCallback)((function(e){var t=e.nativeEvent;(null===t||void 0===t?void 0:t.deltaY)<0?h((function(e){return e+10>360?10:e+10})):h((function(e){return e-10<0?350:e-10}))}),[]),x=Object(n.useCallback)((function(){j&&_(!1),S((function(e){return!e}))}),[j]),N=Object(n.useCallback)((function(){k&&S(!1),_((function(e){return!e}))}),[k]),A=Object(n.useMemo)((function(){var e={color:"",target:"first"};return k&&(e.color=m,e.target="first"),j&&(e.color=g,e.target="second"),o.a.createElement(o.a.Fragment,null,k&&o.a.createElement(U,{type:t,color:e.color,target:e.target}),j&&o.a.createElement(U,{type:t,color:e.color,target:e.target}))}),[k,j,m,g]),D=Object(n.useMemo)((function(){var e="linear-gradient(".concat(y,"deg, ").concat(m,", ").concat(g,")");return(k||j)&&(e="white"),o.a.createElement("div",{className:"gradientPreview",style:{background:e,alignItems:k||j?"baseline":"center"},onWheel:R},o.a.createElement(B,{width:110,min:0,max:360,direction:-1,knobPosition:"right",progressColorFrom:"#FFFFFF",progressColorTo:"#FFFFFF",knobColor:"#FFFFFF",trackColor:"#FFFFFF",appendToValue:"\xb0",valueFontSize:"15px",trackSize:4,progressSize:4,onChange:function(e){h(e)},label:"",dataIndex:y,style:{display:k||j?"none":"inline-block"}}),A)}),[y,m,g,k,j,R]),I=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"gradientInputWrapper"},o.a.createElement(K.EditableInput,{value:m,onChange:w("first"),style:{input:{width:"90%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}}}),o.a.createElement(K.EditableInput,{value:g,onChange:w("second"),style:{input:{width:"90%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}}}))}),[m,g]),L=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"gradientColorBoxWrapper"},o.a.createElement("div",{title:m,className:"gradientColorBox",style:{background:m,animation:k?"pulse 1s infinite":"unset"},onClick:x}),o.a.createElement("div",{title:g,className:"gradientColorBox",style:{background:g,animation:j?"pulse 1s infinite":"unset"},onClick:N}))}),[m,g,x,N]);return Object(n.useMemo)((function(){return o.a.createElement("div",{className:"gradientBlock"},D,L,I)}),[y,m,g,y,k,j])},z=function(e){var t=e.type,a=E(),r=a.state,c=a.dispatch,i=r.strokeColor,s=r.backgroundBasicColor,l=Object(n.useState)(!1),u=Object(d.a)(l,2),p=u[0],f=u[1],m=Object(n.useState)("basic"),g=Object(d.a)(m,2),b=g[0],v=g[1],y=["#4D4D4D","#999999","#2e8a57","#FE9200","#fe1694","#33cd33","#8a2ae3","#68CCCA","#73D8FF","#AEA1FF","#7f8000","#000000","#81087f","#cccccc","#D33115","#143D59","#210070","#213970","#FFE042","#E71989","#5B0E2D","#FFD55A","#6DD47E","#F93800","#F9858B","#761137","#00154F","#F2BC94","#FBEAEB","#EB2188"],h=function(e){c("Background"===t?{type:"SET_BACKGROUND_BASIC_COLOR",payload:e.hex}:{type:"SET_STROKE_COLOR",payload:e.hex})},O=function(e){return function(){f(!1===e?e:!p)}},C=function(){return"Background"===t?"object"===typeof s?"linear-gradient(".concat(s.degree||0,", ").concat(s.firstColor,", ").concat(s.secondColor,")"):s:"object"===typeof i?"linear-gradient(".concat(i.degree||0,", ").concat(i.firstColor,", ").concat(i.secondColor,")"):i},k=function(e){return function(){v(e)}},S=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"basicPicker"},o.a.createElement(H.BlockPicker,{triangle:"hide",color:C(),onChange:h,colors:y}),o.a.createElement("div",{className:"colorTypeChangeButton gradientColorButton",onClick:k("gradient")},"Gradient"))}),[y]),F=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"gradientPicker"},o.a.createElement(V,{type:t}),o.a.createElement("div",{className:"colorTypeChangeButton basicColorButton",onClick:k("basic")},"Basic"))}),[]);return Object(n.useMemo)((function(){var e=C();return o.a.createElement("div",{className:"colorIndicator"},o.a.createElement("div",{className:"colorSwatch",style:{boxShadow:"0 0 0 2px ".concat(e)},onClick:O()},o.a.createElement("div",{className:"pickedColor ".concat("Background"===t?"backgroundPickedColorIndicatior":""),style:{background:e}})),p?o.a.createElement("div",{className:"colorPopover"},o.a.createElement("div",{className:"colorCover",onClick:O(!1)}),"basic"===b?S:F):null)}),[p,y,b])},Y=function(e){return Object.keys(s.SittingPose).includes(e)},q=function(e){return Object.keys(s.StandingPose).includes(e)},X=function(e){var t="-350",a="-150",n="1500",o="1500";return Y(e)?(t="-800",a="-300",n="2600",o="2600","MediumBW"!==e&&"MediumWB"!==e||(t="-1000"),"OneLegUpBW"!==e&&"OneLegUpWB"!==e||(t="-900"),"CrossedLegs"===e&&(t="-850",n="2800",o="2800"),"WheelChair"===e&&(t="-700",a="-150",n="2700",o="2700"),"Bike"===e&&(t="-1450",a="-450",n="4200",o="4200")):q(e)?(t="-1300",a="-200",n="3350",o="3350"):("PocketShirt"===e&&(t="-395"),"Geek"!==e&&"DotJacket"!==e||(t="-305"),"Device"===e&&(a="-160")),{x:t,y:a,width:n,height:o}},J=function(){var e=E(),t=e.state,a=e.dispatch,r=t.pickedAccessory,c=t.pickedBody,l=t.pickedFace,u=t.pickedFacialHair,p=t.pickedHair,f=t.pickedSection,m=t.scaleVector,b=t.isFrameTransparent,v=Object(n.useState)(),y=Object(d.a)(v,2),h=y[0],O=y[1];Object(n.useEffect)((function(){var e={hairKeys:[""],bodyKeys:[""],faceKeys:[""],facialHairKeys:[""],accessoryKeys:[""]};e.hairKeys=Object.keys(s.Hair),e.bodyKeys=[].concat(Object(g.a)(Object.keys(s.BustPose)),Object(g.a)(Object.keys(s.SittingPose)),Object(g.a)(Object.keys(s.StandingPose))),e.faceKeys=Object.keys(s.Face),e.facialHairKeys=Object.keys(s.FacialHair),e.accessoryKeys=Object.keys(s.Accessories),O(e)}),[]);var C=function(e){a({type:"SET_HAIR",payload:e})},k=function(e){a({type:"SET_BODY",payload:e})},S=function(e){a({type:"SET_FACE",payload:e})},F=function(e){a({type:"SET_FACIAL_HAIR",payload:e})},T=Object(n.useCallback)((function(e){return function(){e!==b&&a({type:"SET_FRAME_TYPE",payload:e})}}),[b]),j=function(e){a({type:"SET_ACCESSORY",payload:e})},_=Object(n.useCallback)((function(){h&&(C(h.hairKeys[Math.floor(Math.random()*h.hairKeys.length)]),k(h.bodyKeys[Math.floor(Math.random()*h.bodyKeys.length)]),S(h.faceKeys[Math.floor(Math.random()*h.faceKeys.length)]),F(h.facialHairKeys[Math.floor(Math.random()*h.facialHairKeys.length)]),j(h.accessoryKeys[Math.floor(Math.random()*h.accessoryKeys.length)]))}),[h]),w=function(e){return function(){!function(e){a({type:"SET_PIECE_SECTION",payload:e})}(e)}},R=function(e){switch(f){case"Accessories":return e===r;case"Body":return e===c;case"Hair":return e===p;case"FacialHair":return e===u;case"Face":return e===l}},x=function(e){switch(f){case"Accessories":return"-75 -125 500 400";case"Body":return q(t=e)?"-300 350 2500 2500":Y(t)?"Bike"===t?"-500 300 3000 3000":"MediumBW"===t||"MediumWB"===t||"OneLegUpBW"===t||"OneLegUpWB"===t||"WheelChair"===t?"-300 250 2000 2000":"0 300 2000 2000":"0 150 1200 1200";case"Hair":return"0 -100 550 750";case"FacialHair":return"-50 -100 500 400";case"Face":return"0 -20 300 400"}var t},N=function(e){return function(){switch(f){case"Accessories":j(e);break;case"Body":k(e);break;case"Hair":C(e);break;case"FacialHair":F(e);break;case"Face":S(e)}}},B=function(e){return e.map((function(e,t){return o.a.createElement("li",{key:t,className:"pieceListItem",onClick:N(e)},o.a.createElement("div",{className:"pieceListWrapper"},o.a.createElement("input",{className:"pieceListRadioButton",type:"radio",name:f,checked:R(e),readOnly:!0}),o.a.createElement("div",{className:"selectionIndicator"}),o.a.createElement("div",null,o.a.createElement("svg",{className:"pieceListSvg",viewBox:x(e),width:"70",height:"70"},function(e){switch(f){case"Accessories":return o.a.createElement(s.Accessories[e]);case"Body":return o.a.createElement(s.BustPose[e]||s.SittingPose[e]||s.StandingPose[e]);case"Hair":return o.a.createElement(s.Hair[e]);case"FacialHair":return o.a.createElement(s.FacialHair[e]);case"Face":return o.a.createElement(s.Face[e])}}(e))),o.a.createElement("span",{className:"pieceText"},e)))}))},A=Object(n.useCallback)((function(){!function(e,t){e.setAttribute("xmlns","http://www.w3.org/2000/svg");var a=e.outerHTML,n=new Blob(['<?xml version="1.0" standalone="no"?>\r\n',a],{type:"image/svg+xml"});W(n,t)}(document.querySelector(".svgWrapper > svg"),"peep.svg")}),[]),D=Object(n.useCallback)((function(){!function(e,t,a){var n=document.createElement("canvas");n.width=e.getBoundingClientRect().height*a,n.height=e.getBoundingClientRect().height*a,e.setAttribute("width","".concat(n.width)),e.setAttribute("height","".concat(n.height)),e.setAttribute("xmlns","http://www.w3.org/2000/svg");var o=e.outerHTML,r=n.getContext("2d"),c=window.self.URL||window.self.webkitURL||window.self,i=new Image,s=new Blob(['<?xml version="1.0" standalone="no"?>\r\n',o],{type:"image/svg+xml"}),l=c.createObjectURL(s);n.style.display="none",document.body.appendChild(n),i.onload=function(){r&&(r.drawImage(i,0,0,n.width,n.height),c.revokeObjectURL(l),n.toBlob((function(e){e&&W(e,t),document.body.removeChild(n)})))},i.src=l}(document.querySelector(".svgWrapper > svg"),"peep.png",m)}),[m]),I=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"listWrapper"},o.a.createElement("ul",{className:"pieceList ".concat(f)},B(function(){switch(f){case"Accessories":return Object.keys(s.Accessories);case"Body":return[].concat(Object(g.a)(Object.keys(s.BustPose)),Object(g.a)(Object.keys(s.SittingPose)),Object(g.a)(Object.keys(s.StandingPose)));case"Hair":return Object.keys(s.Hair);case"FacialHair":return Object.keys(s.FacialHair);case"Face":return Object.keys(s.Face)}}())),o.a.createElement("ul",{className:"sectionList"},["Accessories","Body","Face","FacialHair","Hair"].map((function(e,t){return o.a.createElement("li",{className:"pieceSectionItem",key:t,onClick:w(e)},o.a.createElement("div",{className:"pieceSectionButton ".concat(e," ").concat(f===e?"pickedSection":"")},o.a.createElement("span",null,e)))}))))}),[f,B]),L=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"saveButtonWrapper"},o.a.createElement("div",{className:"saveButton",onClick:A},"Save as SVG"),o.a.createElement("div",{className:"saveButton",onClick:D},"Save as PNG"))}),[A,D]),P=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"shuffleButton",onClick:_},o.a.createElement("span",{style:{textAlign:"center"}},"Shuffle"))}),[_]),H=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"foregroundColorWrapper"},o.a.createElement("span",{className:"marginRightOneEM"},"Foreground"),o.a.createElement(z,{type:"Foreground"}))}),[]),K=Object(n.useMemo)((function(){return o.a.createElement("div",{className:"frameOptionsWrapper ".concat(!b&&"increaseFrameWrapperWidth")},o.a.createElement("span",{className:"marginRightOneEM"},"Background"),o.a.createElement("div",{style:Object(i.a)({display:"flex"},!b&&{display:"none"})},o.a.createElement("div",{className:"frameOptionButton ".concat(b&&"deactiveFrameOptionButton"),onClick:T(!0)},"transparent"),o.a.createElement("div",{className:"frameOptionButton ".concat(!b&&"deactiveFrameOptionButton"),onClick:T(!1)},"colorful")),o.a.createElement("div",{style:Object(i.a)({display:"flex"},b&&{display:"none"})},o.a.createElement(z,{type:"Background"}),o.a.createElement("div",{className:"trashIconWrapper",onClick:T(!0)},o.a.createElement(M.a,{color:"#fd6565"}))))}),[b]);return Object(n.useMemo)((function(){return o.a.createElement("div",{className:"rigthMenu"},I,K,H,P,L)}),[f,_,r,c,l,u,p,m,b])},$={width:390,height:390,justifyContent:"center",alignSelf:"center",transform:"unset"},Q=function(){var e=E(),t=e.state,a=e.dispatch,r=Object(n.useRef)(null),c=t.pickedAccessory,s=t.pickedBody,d=t.pickedFace,u=t.pickedFacialHair,p=t.pickedHair,f=t.strokeColor,m=t.pressedKey,g=t.scaleVector,b=t.svgTransform,v=t.isFrameTransparent,y=t.backgroundBasicColor;Object(n.useEffect)((function(){var e,t,a;(null===(e=window)||void 0===e?void 0:e.innerWidth)<1201&&(null===(t=r.current)||void 0===t||t.removeEventListener("mouseenter",h),null===(a=r.current)||void 0===a||a.removeEventListener("mouseleave",O))}),[]),Object(n.useEffect)((function(){var e=document.querySelector(".svgWrapper > svg > g"),t=e.getBBox(),a=t.width,n=t.height,o=t.x,r=t.y;e.setAttribute("transform","rotate(".concat((null===b||void 0===b?void 0:b.rotate)||"0"," ").concat(o+a/2," ").concat(r+n/2,")"))}),[b,s]);var h=function(){document.getElementsByClassName("svgWrapper")[0].focus()},O=function(){document.getElementsByClassName("header")[0].focus(),a({type:"SET_WHEEL_DIRECTION",payload:void 0}),a({type:"SET_PRESSED_KEY",payload:void 0})};return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{className:"header",href:"/"},o.a.createElement("h2",null,"notion style avatar generator")),o.a.createElement("div",{ref:r,className:"svgWrapper",tabIndex:0,onMouseEnter:h,onMouseLeave:O,onKeyDown:function(e){var t=e.nativeEvent;m!==t.key&&a({type:"SET_PRESSED_KEY",payload:t.key})},onKeyUp:function(){a({type:"SET_PRESSED_KEY",payload:void 0})},onWheel:function(e){var t=e.nativeEvent;a({type:"SET_IS_WHEEL_ACTIVE",payload:!0}),t.deltaY>0?a({type:"SET_WHEEL_DIRECTION",payload:"down"}):a({type:"SET_WHEEL_DIRECTION",payload:"up"}),setTimeout((function(){a({type:"SET_IS_WHEEL_ACTIVE",payload:!1})}),0)}},o.a.createElement(l.a,{style:Object(i.a)({},$,{width:$.width*g,height:$.height*g,transform:"".concat((null===b||void 0===b?void 0:b.flip)||"")}),accessory:c,body:s,face:d,hair:p,facialHair:u,strokeColor:f,viewBox:X(s),wrapperBackground:v?void 0:y})),o.a.createElement(L,null),o.a.createElement(J,null))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(571),a(572);c.a.hydrate(o.a.createElement(m,null,o.a.createElement(Q,null)),document.getElementById("main")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ee(t,e)}))}}()}},[[158,1,2]]]);
//# sourceMappingURL=main.8f89c8c6.chunk.js.map